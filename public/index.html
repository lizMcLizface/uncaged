<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.svg" type="image/svg+xml" />
    <!-- <link rel="icon" href="%PUBLIC_URL%/favicon.ico" /> -->
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#2563eb" />
    <meta
      name="description"
      content="The ill-tempered piano - A comprehensive music theory and synthesis platform"
    />
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.svg" />
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script> -->
<!-- <div id="root"></div> -->
    <!--
      manifest.json provides metadata used when your web app is installed on a
      user's mobile device or desktop. See https://developers.google.com/web/fundamentals/web-app-manifest/
    -->
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <!--
      Notice the use of %PUBLIC_URL% in the tags above.
      It will be replaced with the URL of the `public` folder during the build.
      Only files inside the `public` folder can be referenced from the HTML.

      Unlike "/favicon.ico" or "favicon.ico", "%PUBLIC_URL%/favicon.ico" will
      work correctly both with client-side routing and a non-root public URL.
      Learn how to configure a non-root public URL by running `npm run build`.
    -->
    <title>The ill-tempered piano</title>
  </head>
  <body>  <style>
      .tab {
        position: relative;
        width: 60px;
        transition: width 0.3s;
        z-index: 1000;
        background: #fff;
        box-shadow: 2px 0 8px rgba(0,0,0,0.1);
        overflow: visible;
      }
      .tab.expanded {
        width: 400px;
        box-shadow: 2px 0 16px rgba(0,0,0,0.2);
      }
      .tab button.tablinks {
        display: block;
        width: 100%;
        text-align: left;
        padding: 8px 12px;
        border: none;
        background: none;
        outline: none;
        cursor: pointer;
        transition: background 0.2s;
        font-size: 14px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        min-height: 48px;
        display: flex;
        align-items: center;
      }
      .tab:not(.expanded) button.tablinks .full-label {
        display: none;
      }
      .tab:not(.expanded) button.tablinks .short-label {
        display: inline;
      }
      .tab.expanded button.tablinks .full-label {
        display: inline;
      }
      .tab.expanded button.tablinks .short-label {
        display: none;
      }
      .tab button.tablinks.active {
        background: #e3e3e3;
      }
      .tab {
        /* Make sure it overlays other content when expanded */
        position: fixed;
        top: 0;
        left: 0;
        height: 100vh;
        border-right: 1px solid #ccc;
      }
      .tab-icon {
        width: 32px;
        height: 32px;
        display: inline-block;
        vertical-align: middle;
        flex-shrink: 0;
      }
      .tab button.tablinks .full-label {
        margin-left: 8px;
        line-height: 32px;
      }
      
      /* Help dropdown styles */
      .help-dropdown-container {
        position: relative;
        display: inline-block;
      }
      
      .help-dropdown {
        position: absolute;
        top: 100%;
        left: 0;
        min-width: 1200px;
        max-width: 1200px;
        background: white;
        border: 1px solid #ccc;
        border-radius: 8px;
        box-shadow: 0 4px 16px rgba(0,0,0,0.2);
        z-index: 10000;
        opacity: 0;
        visibility: hidden;
        transform: translateY(-10px);
        transition: all 0.3s ease;
        padding: 20px;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        pointer-events: none;
      }
      
      .help-dropdown-container:hover .help-dropdown {
        opacity: 1;
        visibility: visible;
        transform: translateY(0);
        pointer-events: auto;
      }
      
      .help-dropdown h4 {
        margin: 0 0 15px 0;
        color: #333;
        border-bottom: 2px solid #2563eb;
        padding-bottom: 10px;
      }
      
      .help-section {
        margin-bottom: 20px;
      }
      
      .help-section h5 {
        margin: 0 0 8px 0;
        color: #2563eb;
        font-size: 16px;
      }
      
      .help-section p {
        margin: 0 0 8px 0;
        color: #666;
        line-height: 1.5;
      }
      
      .help-section ul {
        margin: 0;
        padding-left: 20px;
        color: #666;
      }
      
      .help-section li {
        margin-bottom: 4px;
      }
      
      .help-button {
        cursor: pointer;
        transition: background-color 0.2s;
        border-radius: 4px;
        padding: 4px 8px;
      }
      
      .help-button:hover {
        background-color: #f0f0f0;
      }
    </style>
    <!-- <div class="tab" id="mainTabBar"
         onmouseenter="this.classList.add('expanded')"
         onmouseleave="this.classList.remove('expanded')">
         
         <button class="tablinks active" onclick="openCity(event, 'fretNotTab')" id="defaultOpen">
        <span class="short-label">
          F
        </span>
        <span class="full-label">Fret Not</span>
      </button>
      
    </div>
    <style>
      .main-content {
        margin-left: 60px;
      }
    </style> -->
    <div class="main-content">
     
      <div class="selectionContainer" width="100%" style="max-height:120px;">
        <span style="width:30%;text-align: left;" class="tableCell">
          <h3>unCAGED</h3>
        </span>
        <span style="width:10%;text-align: left;" class="tableCell" id="helpButton">
          <div class="help-dropdown-container">
            <div class="help-button" style="display: flex; justify-content: center; align-items: center; height: 100%;">
              <h3>Help</h3>
            </div>
            <div class="help-dropdown">
              <h4>Synthesizer Help Guide</h4>
              
              <div class="help-section">
                <h5>Getting Started</h5>
                <p>Welcome to the ill-tempered piano! This synthesizer allows you to do fun things (hopefully) create sounds.</p>
                <ul>
                  <li>Use your computer keyboard or MIDI controller to play notes</li>
                  <li>Navigate between different tabs using the sidebar on the left</li>
                  <li>Experiment with different scales, chords, and progressions</li>
                </ul>
              </div>
              
              <div class="help-section">
                <h5>Scales Tab</h5>
                <p>Learn and practice different musical scales:</p>
                <ul>
                  <li>Select different scale modes (Major, Minor, etc.)</li>
                  <li>Choose root notes and scale patterns</li>
                  <li>Visual feedback on the piano keyboard</li>
                  <li>Change selected scales with n/m keys root with ,/.</li>
                </ul>
              </div>
              
              <div class="help-section">
                <h5>Chords Tab</h5>
                <p>Explore chord shapes</p>
              </div>
              
              <div class="help-section">
                <h5>Progression Tab</h5>
                <p>Explore chord progressions</p>
              </div>
              
              <div class="help-section">
                <h5>Synthesizer</h5>
                <p>Shape your sound with synthesis controls:</p>
                <ul>
                  <li>Adjust oscillator waveforms and frequency</li>
                  <li>Control envelope settings (ADSR)</li>
                  <li>Apply filters and effects</li>
                </ul>
              </div>
              
              <div class="help-section">
                <h5>Keyboard Controls</h5>
                <p>Default keyboard mappings:</p>
                <ul>
                  <li>Piano keys: A-L row for white keys, Q-P row for black keys</li>
                  <li>Octave controls: Z/X keys to change octave</li>
                </ul>
              </div>
              
              <div class="help-section">
                <h5>Tips</h5>
                <ul>
                  <li>Enable staves to see musical notation</li>
                  <li>Use the metronome for timing practice</li>
                  <li>Experiment with different synthesis parameters</li>
                </ul>
              </div>
            </div>
          </div>
        </span>
        <span style="width:60%;text-align: left;" class="tableCell">
          <p>Current Scale:</p><div id="currentScaleNode" style="display: inline-block; font-weight: bold;">C Major</div>
        </span>
        </span> </div>

      
      <!-- <div id="fretNotTab" class="tabcontent" style="display:block; max-height:1280px; overflow-y:auto;"> -->
        <div id ="fretNotPlaceholder">
          <p>This is a placeholder content. You can replace it with actual content later.</p>
          <p>Feel free to add more information or features as needed.</p>
        </div>
        <div id ="placeholderContent">
          <p>This is a placeholder content. You can replace it with actual content later.</p>
          <p>Feel free to add more information or features as needed.</p>
          </div>
      <!-- </div> -->
  
<!--   
  <div class="selectionContainer" style="position:fixed; left:80px; bottom:0; width:100%; z-index:999; background:--theme-background;">
    <span style="width:5%;text-align: center;" class="tableCell">
      <div style="display: flex; align-items: center; height: 100%;">
        <h4 style="margin: 0;">Metronome</h4>
      </div>
    </span>
    <span style="width:7.5%" class="tableCell">
      <div style="display: flex; align-items: center; gap: 8px; height: 100%;">
        <span>Enable</span>
        <label class="switch" style="margin-bottom:0;">
          <input type="checkbox" id='metronomeCheckBox' checked>
          <span class="slider round"></span>
        </label>
      </div>
    </span>
  </span>
  <span style="width:7.5%" class="tableCell">
      <div style="display: flex; align-items: center; gap: 8px; height: 100%;">
        <span>Sound</span>
        <label class="switch" style="margin-bottom:0;">
          <input type="checkbox" id='metronomeSoundCheckBox'>
          <span class="slider round"></span>
        </label>
      </div>
</span>
<span style="width:10%" class="tableCell">
      <div style="display: flex; align-items: center; justify-content: center; height: 100%;">
        <span style="display: flex; align-items: center;">
          <span style="margin-right: 8px;">BPM:</span>
          <label id='bpmText' style="width:40px; text-align:center; margin-right: 8px;">120</label>
          <input type="range" id="bpmSlider" value="120" min="10" max="180" step="1" style="width:120px;">
        </span>
      </div>
</label>
</span>
<span style="width:60%" class="tableCell">
<span style="width:100%;justify-content:center; align-items:center;display:inline-block" class="tableCell" id ="metronomeContainer">
  <div style="display:flex;gap:-4px">
    <div class='metronome metronome01' data-animation></div>
    <div class='metronome metronome02' data-animation></div>
    <div class='metronome metronome03' data-animation></div>
    <div class='metronome metronome04' data-animation></div>
    <div class='metronome metronome05' data-animation></div>
    <div class='metronome metronome06' data-animation></div>
    <div class='metronome metronome07' data-animation></div>
    <div class='metronome metronome08' data-animation></div>
    <div class='metronome metronome09' data-animation></div>
    <div class='metronome metronome10' data-animation></div>
    <div class='metronome metronome11' data-animation></div>
    <div class='metronome metronome12' data-animation></div>
    <div class='metronome metronome13' data-animation></div>
    <div class='metronome metronome14' data-animation></div>
    <div class='metronome metronome15' data-animation></div>
    <div class='metronome metronome16' data-animation></div>
    <div class='metronome metronome17' data-animation></div>
    <div class='metronome metronome18' data-animation></div>
    <div class='metronome metronome19' data-animation></div>
    <div class='metronome metronome20' data-animation></div>
    <div class='metronome metronome21' data-animation></div>
    <div class='metronome metronome22' data-animation></div>
    <div class='metronome metronome23' data-animation></div>
    <div class='metronome metronome24' data-animation></div>
  </div>
</span>
</span>
</span>

    </div> -->

    <noscript>You need to enable JavaScript to run this app.</noscript>
    
    <!-- Root element for React theme management -->
    <!--      -->
    <!--
      This HTML file is a template.
      If you open it directly in the browser, you will see an empty page.

      You can add webfonts, meta tags, or analytics to this file.
      The build step will place the bundled scripts into the <body> tag.

      To begin the development, run `npm start` or `yarn start`.
      To create a production bundle, use `npm run build` or `yarn build`.
    -->
  </body>
  
<script>
  function openCity(evt, cityName) {
    var i, tabcontent, tablinks;
    tabcontent = document.getElementsByClassName("tabcontent");
    for (i = 0; i < tabcontent.length; i++) {
      tabcontent[i].style.display = "none";
    }
    tablinks = document.getElementsByClassName("tablinks");
    for (i = 0; i < tablinks.length; i++) {
      tablinks[i].className = tablinks[i].className.replace(" active", "");
    }
    document.getElementById(cityName).style.display = "block";
    evt.currentTarget.className += " active";
  }

function reset_animation() {
    var el = document.getElementsByClassName('metronome');
    // console.log(el)
    Array.from(el).forEach((e) =>{
      // console.log(e.classList[1])
      // var e0 = document.getElementsByClassName(e.classList[1])[0];
      // console.log(e.style.background)
      e.style.animationName = 'none';
      e.offsetHeight; /* trigger reflow */
      e.style.animationName = null; 
    })
}
// Get the element with id="defaultOpen" and click on it
document.getElementById("defaultOpen").click();
  </script>
</html>
